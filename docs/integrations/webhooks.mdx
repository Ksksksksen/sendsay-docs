---
sidebar_position: 7
sidebar_label: 'Вебхуки'
---

# Вебхуки

В Sendsay с помощью [вебхуков](https://docs.sendsay.ru/getting-started/glossary/#%D0%B2) вы можете отслеживать следующие события:

- уникальное открытие письма,
- переход по ссылке,
- отписка и отмена отписки,
- доставка,
- заполнение формы,
- подтверждение регистрации,
- изменение черновика,
- открытие целевой страницы,
- трекер,
- новый подписчик,
- ответ на письмо.

## Как настроить вебхуки

Чтобы настроить вебхуки, перейдите в раздел [**Настройки системы → Вебхуки**](https://app.sendsay.ru/account/webhooks):&#x20;

![webhooks](/img/integrations/webhooks/webhooks.jpg)

На шаге **Формат уведомления** выберите, в каком формате получать уведомления:

![webhooks format](/img/integrations/webhooks/webhook_format.jpg)

- JSON — стандартный формат, передается как элемент `events` в виде JSON-массива, содержащего по одному элементу на событие.
- JSON Stream — JSON-объекты описывают события, следующие друг за другом, без разделителя (запятой), возможно разделение пробельными символами (пробелы и переводы строк). Формат подходит для автоматизированного разбора.

На шаге **Установка вебхуков** настройте вебхуки для событий: нажмите «Добавить» и укажите URL-адрес, на который будут приходить уведомления. При необходимости для одного события можно добавить несколько URL.

![add webhook](/img/integrations/webhooks/wenhook_add.gif)

Настроенные события передаются по мере накопления с интервалом около 1 минуты.

[Описание передачи событий в API](https://sendsay.ru/api/api.html#Передача-событий-из-системы-клиенту-Callback-WebHook)

## Как сохранять отчёты по вебхукам

Вебхуки можно сохранять в хранилище аккаунта в разделе [**Настройки системы → Файлы → Отчёты**](https://app.sendsay.ru/account/files).

Для этого при настройке события нужно указать адрес вида `rfs://report/ПАПКА_СОБЫТИЯ`. Например, для события **Переход по ссылке** адрес будет выглядеть как `rfs://report/callback/click`.

## Как проверить работу вебхуков

Проверить, как работают вебхуки, можно через сервис [Webhook.site](https://webhook.site/):

1. Перейдите [на сайт](https://webhook.site/#!/view/200df572-dc14-4165-834e-993058ab8aa8) и скопируйте уникальную ссылку, которую сервис сгенерирует автоматически.

   ![webhook site](/img/integrations/webhooks/webhook_site.jpg)

2. В Sendsay перейдите в раздел [**Настройки системы → Вебхуки**](https://app.sendsay.ru/account/webhooks), напротив нужного события нажмите «Добавить» и вставьте скопированную ссылку.

После выполнения настроенного события в сервисе [Webhook.site](https://webhook.site/) появится уведомление с подробностями.
