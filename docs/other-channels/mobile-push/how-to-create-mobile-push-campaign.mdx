---
sidebar_position: 4
sidebar_label: 'Как отправить пуш'
description: 'Как отправить пуш уведомление'
---

import Details from '@theme/Details';

# Как отправить Mobile Push уведомление

**Mobile Push уведомление** — это выпуск рассылки, отправленный в приложение тем пользователям, кто дал разрешение на получение уведомлений. Такое уведомление отображается на главном экране устройства пользователя приложения, даже если приложение закрыто.

<Details summary='Разрешение на получение уведомлений'>

Пока пользователь не предоставит разрешение на показ уведомлений вашему приложению, мобильные пуш-уведомления показываться не будут.

На устройствах с операционными системами iOS и HarmonyOS пользователь должен дать явное разрешение на показ уведомлений от приложения.

Если пользователь устанавливает ваше приложение на устройство под управлением Android 13 или выше, показ уведомлений от вашего приложения тоже будет по умолчанию отключён. Пользователям более ранних версий Android не нужно давать разрешение на показ уведомлений.

</Details>

Перед отправкой уведомления необходимо зарегистрировать мобильное приложение в сервисе пуш-уведомлений, подключить к Sendsay и импортировать контакты пользователей приложения типа Mobile Push.

[Подключение мобильного приложения](https://docs.sendsay.ru/other-channels/mobile-push/how-to-connect-mobile-push#подключение-мобильного-приложения)<br/>
[Как импортировать Mobile Push подписчиков](https://docs.sendsay.ru/other-channels/mobile-push/import-mobile-push-subscribers)

:::tip Важно
В интерфейсе Sendsay вы можете отправлять массовые выпуски мобильных пушей. Для настройки и отправки триггерных и транзакционных мобильных пуш-уведомлений, используйте [API Sendsay](https://sendsay.ru/api/api.html).
:::

Чтобы создать массовый выпуск, перейдите в раздел **Рассылки** и нажмите «Создать выпуск», затем выберите тип **Mobile Push**:

![How to create mobile push](/img/other-channels/mobile-push/how-to-create-mobile-push-campaign/how-to-create-mobile-push.gif)

Подготовка выпуска к отправке проходит в пять шагов:

## 1. Выберите получателей рассылки

На шаге **Аудитория** укажите нужный список или сегмент получателей типа **Mobile Push**, **Email** или **SMS**:

![Subscribers](/img/other-channels/mobile-push/how-to-create-mobile-push-campaign/subscribers.png)

[Как настроить сегменты подписчиков мобильного приложения](https://docs.sendsay.ru/other-channels/mobile-push/segmentation)

:::tip Важно
При выборе типа **Email** или **SMS** система отберёт в список получателей все контакты типа Mobile Push из базы, которые соответствуют условиям сегмента. Тип сегмента при этом не будет учитываться.

Например, при отправке Mobile Push выпуска по email-сегменту система найдёт в вашей базе все контакты типа Mobile Push (но не контакты типа Email), затем выберет из них те, которые подходят по условия сегмента, — и отправит по ним рассылку.
:::

При необходимости ограничьте аудиторию, настроив дополнительные фильтры: например, вы можете отправить рассылку только части пользователей приложения. Нажмите «Сохранить».

## 2. Настройте содержимое

Создайте содержимое уведомления. Мобильное пуш-уведомление состоит из 3 элементов:

- **заголовок** — до 120 символов,
- **сообщение** — до 290 символов,
- **изображение** — файл до 1 МБ, рекомендуемые форматы — PNG, JPEG или GIF.

<Details summary='Ограничение символов'>

Одно и то же уведомление будет выглядеть у подписчиков по-разному, так как внешний вид мобильного пуша и длина самого сообщения зависит от операционной системы устройства и размера экрана.

Поэтому лучше не выходить за рамки **40 символов для заголовка и 80 символов для текста уведомления** — так пользователи приложения смогут просматривать содержимое мобильного пуша на разных устройствах.

Читайте также:<br/>
[Документация Android](https://developer.android.com/media/platform/supported-formats)<br/>
[Документация Apple](https://developer.apple.com/design/human-interface-guidelines/managing-notifications)

</Details>

Предпросмотр сообщения в правой части экрана покажет, как сообщение будет отображаться на устройствах iOS, Android и Huawei:

![Preview](/img/other-channels/mobile-push/how-to-create-mobile-push-campaign/preview.gif)

## 3. Протестируйте рассылку (опционально)

Чтобы убедиться, что уведомление отображается так, как вы задумали, отправьте тестовую копию на своё устройство. Для этого нажмите «Отправить тестовую копию» и выберите контакт из списка, либо укажите контакт формата:

```
eUj-ZTi3QRS1qzk8aNDt3U:AIA9121bFdefFqKBzR0p1vyIxeseqD3ryk181Cew55FlXpozQ2QLedNSDxWVTfOCD5O2JVYbCmsOeO_JP9vIDAJw5IfzHCLZbLyPdinpYsBDnqYsnroV8TCg_lCkSy7IYp99_YKKale1zQ@fcm.android.209
```

Затем нажмите «Отправить».

## 4. Укажите дополнительные настройки (опционально)

:::tip Важно
Для работы с дополнительными настройками необходимы навыки работы с мобильными приложениями. Чтобы настроить поведение приложения при нажатии на уведомление, обратитесь к разработчику вашего мобильного приложения.
:::

При необходимости укажите **Дополнительные настройки**:

- **Отправьте приложению дополнительные данные**. Укажите содержимое `data` в формате ключ-значение.

- **Количество попыток отправки уведомления**. Настройте количество попыток отправки уведомления в случае сбоя сервиса. По умолчанию будет совершена 1 попытка, максимальное количество попыток — 5.

- **Вызвать ссылку при нажатии на уведомление**. Укажите параметры, которые добавятся в содержимое `data`:
  - `action` — тип ссылки `app`, `browser` или `deeplink`,
  - `url` — адрес ссылки.<br/><br/>
    Для корректной работы этой настройки необходимо настроить поведение приложения после нажатия на уведомление с указанными данными.

Настройки, которые сработают только для уведомлений, отправленных через Firebase:

- **Действие после нажатия на уведомление**. Укажите действие с соответствующим `intent_filter` — оно запустится после того, как пользователь нажмёт на уведомление.

- **Срок доставки уведомления**. Настройте время для попыток доставки сообщения, пока устройство подписчика не подключено к интернету. После истечения этого срока, доставка будет отменена. По умолчанию установлено максимальное значение для FCM — 2 419 000 секунд (28 дней). Настройка полезна для проведения акций с ограниченным сроком действия.

- **Эмулировать отправку уведомлений**. При эмулировании сервис пуш-уведомлений получит запрос на отправку уведомления, но конечным пользователям сообщение не отправит. Сработает **только** для отправки через Firebase.

## 5. Выберите способ отправки

На шаге **Отправка** выберите, когда отправить рассылку:

- **Отправить сейчас** — выпуск отправится сразу.

- **Запланировать отправку** — выпуск отправится в установленное время. До отправки выпуски хранятся в папке «Запланированные», где их можно редактировать.

- **Отправить по часовым поясам** — система определит время отправки в зависимости от города, указанного в анкете подписчика. Если поле `Город` в анкете подписчика не заполнено или система не смогла определить часовой пояс, выпуск отправится в указанное время по Москве (UTC+3).

Затем нажмите «Далее» и подтвердите отправку выпуска.

Также вы можете [автоматизировать отправку мобильных пуш-уведомлений по расписанию](https://docs.sendsay.ru/automations/automations-by-time/how-to-automate-mobile-push-campaign).

**Читайте также**: <br/>
[Статистика Mobile Push уведомлений](https://docs.sendsay.ru/other-channels/mobile-push/statistics)
